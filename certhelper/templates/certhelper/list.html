{% extends 'certhelper/base.html' %}
{% block title %}List{% endblock %}

{% block content %}
    <h1 align="center"><a href="{% url 'certhelper:list' %}" style="color: #333;text-decoration: none;">List of certified runs</a></h1>
    {% include "certhelper/components/menu.html" %}

    {% if filter %}
        {% include "certhelper/components/basic_filter.html" %}
    {% else %}
        <div class="alert alert-danger" role="alert">No Filter found.</div>
    {% endif %}

    {% if table %}
        {% load render_table from django_tables2 %}
        {% render_table table %}
    {% else %}
        <div class="alert alert-danger" role="alert">No Table found.</div>
    {% endif %}
{% endblock %}

{% block style %}
    <style>
        .top-buffer {
            margin-top: 20px;
        }

        .vcenter {
            display: inline-block;
            vertical-align: middle;
            float: none;
        }
    </style>
{% endblock %}


{% block script %}
    {% load static %}
    <script src="{% static "certhelper/components/basic_filter.js" %}"></script>
    <script>
        function setFilterDateToToday() {
            var today = new Date();
            var day = today.getDate();
            var month = today.getMonth() + 1;
            var year = today.getFullYear();
            document.getElementById("id_date_day").value = day;
            document.getElementById("id_date_month").value = month;
            document.getElementById("id_date_year").value = year;
        }

        function setFilterDateToAll() {
            document.getElementById("id_date_day").value = 0;
            document.getElementById("id_date_month").value = 0;
            document.getElementById("id_date_year").value = 0;
        }

    $(document).ready(function () {
            //remove empty attributes from URL
            $("form").submit(function () {
                $(this).find(":input").filter(function () {
                    return !this.value || this.value == "0";
                }).attr("disabled", "disabled");
                return true; // ensure form still submits
            });
        });
    </script>
{% endblock %}
